def clamp(val, lo, hi):
    return max(lo, min(val, hi))